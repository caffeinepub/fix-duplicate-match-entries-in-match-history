{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Reset scoring state to fix recording issues",
  "requirements": [
    {
      "id": "REQ-6",
      "summary": "Add a reset action in the frontend to clear all in-progress match state and return to the initial \"no active match\" state",
      "acceptanceCriteria": [
        "A reset action is available in the Header component or ScoringPanel that the user can trigger",
        "Triggering the reset clears all match state fields (current score, wickets, overs, batsmen, bowler, innings) in MatchContext",
        "After reset, the ScoringPanel displays the start screen prompting the user to begin a new match",
        "The reset does NOT delete any saved matches from backend history",
        "User receives confirmation that the current match has been reset"
      ],
      "file_operations": [
        {
          "path": "frontend/src/contexts/MatchContext.tsx",
          "operation": "modify",
          "description": "Add a resetMatch function to the MatchContext that clears all in-progress match state including currentScore, wickets, overs, currentBatsmen, currentBowler, currentInnings, and all innings data, returning the state to initial values without triggering any backend calls"
        },
        {
          "path": "frontend/src/components/Header.tsx",
          "operation": "modify",
          "description": "Add a \"Reset Match\" button or menu item in the Header component that invokes the resetMatch function from MatchContext when clicked, with a confirmation dialog to prevent accidental resets"
        },
        {
          "path": "frontend/src/components/ScoringPanel.tsx",
          "operation": "modify",
          "description": "Ensure the ScoringPanel correctly detects when no active match exists after reset and displays the start screen prompting the user to begin a new match"
        }
      ]
    },
    {
      "id": "REQ-7",
      "summary": "Ensure reset is frontend-only and verify new matches can start cleanly after reset",
      "acceptanceCriteria": [
        "Reset operation only modifies local React state in MatchContext",
        "No backend actor calls (storeMatch, clearAllMatches, etc.) are invoked during reset",
        "After reset, opening the New Match dialog and starting a match works as expected",
        "Scoring buttons and player management function correctly in the newly started match"
      ],
      "file_operations": [
        {
          "path": "frontend/src/contexts/MatchContext.tsx",
          "operation": "modify",
          "description": "Review and verify that the resetMatch function only updates local state without invoking any backend actor methods or triggering mutations, ensuring a clean state for starting a new match"
        },
        {
          "path": "frontend/src/components/NewMatchDialog.tsx",
          "operation": "modify",
          "description": "Verify that the New Match dialog properly initializes match state after a reset has been performed, ensuring no state conflicts or validation errors occur when starting a new match"
        },
        {
          "path": "frontend/src/components/ScoringButtons.tsx",
          "operation": "modify",
          "description": "Test and verify that all scoring controls (runs, extras, wickets) function correctly in a newly started match after reset, with proper validation and state updates"
        },
        {
          "path": "frontend/src/components/CurrentPlayers.tsx",
          "operation": "modify",
          "description": "Verify that player management dialogs (adding, changing, retiring players) work correctly in a newly started match after reset, with proper strike rotation and state management"
        }
      ]
    }
  ]
}